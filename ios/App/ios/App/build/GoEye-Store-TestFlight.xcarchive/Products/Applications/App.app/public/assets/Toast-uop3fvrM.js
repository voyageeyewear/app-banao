import{R as a,r as u,g as Pa,e as We}from"./index-Cd5tM5Cw.js";import{e as T,v as ae,g as Ht,j as Fe,s as Vt,T as J,k as Na,f as ne,l as xa,M as Ut,m as Ma,w as zt,n as re,o as K,p as Sa,c as de,K as Le,q as Ie,r as ka,t as Fa,x as _a,y as La,B as $e,I as pe,z as vt,A as Gt,C as Ia,D as Aa,u as wa,E as Da,F as Ra,G as Zt,a as ot,H as Kt,J as qt,N as Oa,U as Xt,O as Qt,Q as Ba,d as Wa,R as $a,V as ja}from"./Page-Bs3Yy5l8.js";import{E as it,p as Ha,j as Va,l as bt,k as Ua,U as za,u as Ga}from"./context-DL2GIqZU.js";import{W as Za}from"./Card-Vxxgx_Dr.js";import{S as Ka,F as qa}from"./context-D8WZWu7V.js";import{F as lt}from"./FormLayout-DnJHHvdP.js";var Yt=function(r){return a.createElement("svg",Object.assign({viewBox:"0 0 20 20"},r),a.createElement("path",{d:"M10 6.75a.75.75 0 0 1 .75.75v3.5a.75.75 0 1 1-1.5 0v-3.5a.75.75 0 0 1 .75-.75Z"}),a.createElement("path",{d:"M11 13.5a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"}),a.createElement("path",{fillRule:"evenodd",d:"M10 3.5c-1.045 0-1.784.702-2.152 1.447a449.26 449.26 0 0 1-2.005 3.847l-.028.052a403.426 403.426 0 0 0-2.008 3.856c-.372.752-.478 1.75.093 2.614.57.863 1.542 1.184 2.464 1.184h7.272c.922 0 1.895-.32 2.464-1.184.57-.864.465-1.862.093-2.614-.21-.424-1.113-2.147-2.004-3.847l-.032-.061a429.497 429.497 0 0 1-2.005-3.847c-.368-.745-1.107-1.447-2.152-1.447Zm-.808 2.112c.404-.816 1.212-.816 1.616 0 .202.409 1.112 2.145 2.022 3.88a418.904 418.904 0 0 1 2.018 3.875c.404.817 0 1.633-1.212 1.633h-7.272c-1.212 0-1.617-.816-1.212-1.633.202-.408 1.113-2.147 2.023-3.883a421.932 421.932 0 0 0 2.017-3.872Z"}))};Yt.displayName="AlertTriangleIcon";var Jt=function(r){return a.createElement("svg",Object.assign({viewBox:"0 0 20 20"},r),a.createElement("path",{d:"M11.5 8.25a.75.75 0 0 1 .75.75v4.25a.75.75 0 0 1-1.5 0v-4.25a.75.75 0 0 1 .75-.75Z"}),a.createElement("path",{d:"M9.25 9a.75.75 0 0 0-1.5 0v4.25a.75.75 0 0 0 1.5 0v-4.25Z"}),a.createElement("path",{fillRule:"evenodd",d:"M7.25 5.25a2.75 2.75 0 0 1 5.5 0h3a.75.75 0 0 1 0 1.5h-.75v5.45c0 1.68 0 2.52-.327 3.162a3 3 0 0 1-1.311 1.311c-.642.327-1.482.327-3.162.327h-.4c-1.68 0-2.52 0-3.162-.327a3 3 0 0 1-1.311-1.311c-.327-.642-.327-1.482-.327-3.162v-5.45h-.75a.75.75 0 0 1 0-1.5h3Zm1.5 0a1.25 1.25 0 1 1 2.5 0h-2.5Zm-2.25 1.5h7v5.45c0 .865-.001 1.423-.036 1.848-.033.408-.09.559-.128.633a1.5 1.5 0 0 1-.655.655c-.074.038-.225.095-.633.128-.425.035-.983.036-1.848.036h-.4c-.865 0-1.423-.001-1.848-.036-.408-.033-.559-.09-.633-.128a1.5 1.5 0 0 1-.656-.655c-.037-.074-.094-.225-.127-.633-.035-.425-.036-.983-.036-1.848v-5.45Z"}))};Jt.displayName="DeleteIcon";var ea=function(r){return a.createElement("svg",Object.assign({viewBox:"0 0 20 20"},r),a.createElement("path",{d:"M11.25 8.5c-.414 0-.75.336-.75.75v1.25h-1.25c-.414 0-.75.336-.75.75s.336.75.75.75h1.25v1.25c0 .414.336.75.75.75s.75-.336.75-.75v-1.25h1.25c.414 0 .75-.336.75-.75s-.336-.75-.75-.75h-1.25v-1.25c0-.414-.336-.75-.75-.75Z"}),a.createElement("path",{fillRule:"evenodd",d:"M8.75 16.5c-1.438 0-2.618-1.104-2.74-2.51-1.406-.122-2.51-1.302-2.51-2.74v-5c0-1.519 1.231-2.75 2.75-2.75h5c1.438 0 2.618 1.104 2.74 2.51 1.406.122 2.51 1.302 2.51 2.74v5c0 1.519-1.231 2.75-2.75 2.75h-5Zm0-10.5c-1.519 0-2.75 1.231-2.75 2.75v3.725c-.57-.116-1-.62-1-1.225v-5c0-.69.56-1.25 1.25-1.25h5c.605 0 1.11.43 1.225 1h-3.725Zm0 1.5c-.69 0-1.25.56-1.25 1.25v5c0 .69.56 1.25 1.25 1.25h5c.69 0 1.25-.56 1.25-1.25v-5c0-.69-.56-1.25-1.25-1.25h-5Z"}))};ea.displayName="DuplicateIcon";var ta=function(r){return a.createElement("svg",Object.assign({viewBox:"0 0 20 20"},r),a.createElement("path",{fillRule:"evenodd",d:"M15.655 4.344a2.695 2.695 0 0 0-3.81 0l-.599.599-.009-.009-1.06 1.06.008.01-5.88 5.88a2.75 2.75 0 0 0-.805 1.944v1.922a.75.75 0 0 0 .75.75h1.922a2.75 2.75 0 0 0 1.944-.806l7.54-7.539a2.695 2.695 0 0 0 0-3.81Zm-4.409 2.72-5.88 5.88a1.25 1.25 0 0 0-.366.884v1.172h1.172c.331 0 .65-.132.883-.366l5.88-5.88-1.689-1.69Zm2.75.629.599-.599a1.195 1.195 0 1 0-1.69-1.689l-.598.599 1.69 1.689Z"}))};ta.displayName="EditIcon";var aa=function(r){return a.createElement("svg",Object.assign({viewBox:"0 0 20 20"},r),a.createElement("path",{d:"M10 14a.75.75 0 0 1-.75-.75v-3.5a.75.75 0 0 1 1.5 0v3.5a.75.75 0 0 1-.75.75Z"}),a.createElement("path",{d:"M9 7a1 1 0 1 1 2 0 1 1 0 0 1-2 0Z"}),a.createElement("path",{fillRule:"evenodd",d:"M17 10a7 7 0 1 1-14 0 7 7 0 0 1 14 0Zm-1.5 0a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0Z"}))};aa.displayName="InfoIcon";var na=function(r){return a.createElement("svg",Object.assign({viewBox:"0 0 20 20"},r),a.createElement("path",{fillRule:"evenodd",d:"M3 6.75c0-2.071 1.679-3.75 3.75-3.75h6.5c2.071 0 3.75 1.679 3.75 3.75v6.5c0 2.071-1.679 3.75-3.75 3.75h-6.5c-2.071 0-3.75-1.679-3.75-3.75v-6.5Zm3.75-2.25c-1.243 0-2.25 1.007-2.25 2.25v6.5c0 1.243 1.007 2.25 2.25 2.25h.5v-11h-.5Zm4.5 11h-2.5v-11h2.5v11Zm1.5 0h.5c1.243 0 2.25-1.007 2.25-2.25v-6.5c0-1.243-1.007-2.25-2.25-2.25h-.5v11Z"}))};na.displayName="LayoutColumns3Icon";var ra=function(r){return a.createElement("svg",Object.assign({viewBox:"0 0 20 20"},r),a.createElement("path",{fillRule:"evenodd",d:"M5 10c0-.414.336-.75.75-.75h8.5c.414 0 .75.336.75.75s-.336.75-.75.75h-8.5c-.414 0-.75-.336-.75-.75Z"}))};ra.displayName="MinusIcon";var sa=function(r){return a.createElement("svg",Object.assign({viewBox:"0 0 20 20"},r),a.createElement("path",{d:"M10.75 5.75c0-.414-.336-.75-.75-.75s-.75.336-.75.75v3.5h-3.5c-.414 0-.75.336-.75.75s.336.75.75.75h3.5v3.5c0 .414.336.75.75.75s.75-.336.75-.75v-3.5h3.5c.414 0 .75-.336.75-.75s-.336-.75-.75-.75h-3.5v-3.5Z"}))};sa.displayName="PlusIcon";var ct=function(r){return a.createElement("svg",Object.assign({viewBox:"0 0 20 20"},r),a.createElement("path",{d:"M12.72 13.78a.75.75 0 1 0 1.06-1.06l-2.72-2.72 2.72-2.72a.75.75 0 0 0-1.06-1.06l-2.72 2.72-2.72-2.72a.75.75 0 0 0-1.06 1.06l2.72 2.72-2.72 2.72a.75.75 0 1 0 1.06 1.06l2.72-2.72 2.72 2.72Z"}))};ct.displayName="XIcon";var oa=function(r){return a.createElement("svg",Object.assign({viewBox:"0 0 20 20"},r),a.createElement("path",{d:"M12.72 13.78a.75.75 0 1 0 1.06-1.06l-2.72-2.72 2.72-2.72a.75.75 0 0 0-1.06-1.06l-2.72 2.72-2.72-2.72a.75.75 0 0 0-1.06 1.06l2.72 2.72-2.72 2.72a.75.75 0 1 0 1.06 1.06l2.72-2.72 2.72 2.72Z"}))};oa.displayName="XSmallIcon";function ia({alt:e,sourceSet:r,source:n,crossOrigin:t,onLoad:o,className:s,...l}){const i=r?r.map(({source:d,descriptor:m})=>`${d} ${m}`).join(","):null,c=u.useCallback(()=>{o&&o()},[o]);return a.createElement("img",Object.assign({alt:e,src:n,crossOrigin:t,className:s,onLoad:c},i?{srcSet:i}:{},l))}const Xa=u.createContext(!1);var te={Checkbox:"Polaris-Checkbox",ChoiceLabel:"Polaris-Checkbox__ChoiceLabel",Backdrop:"Polaris-Checkbox__Backdrop",Input:"Polaris-Checkbox__Input","Input-indeterminate":"Polaris-Checkbox__Input--indeterminate",Icon:"Polaris-Checkbox__Icon",animated:"Polaris-Checkbox--animated",toneMagic:"Polaris-Checkbox--toneMagic",hover:"Polaris-Checkbox--hover",error:"Polaris-Checkbox--error",checked:"Polaris-Checkbox--checked",pathAnimation:"Polaris-Checkbox--pathAnimation"},ue={Choice:"Polaris-Choice",labelHidden:"Polaris-Choice--labelHidden",Label:"Polaris-Choice__Label",Control:"Polaris-Choice__Control",disabled:"Polaris-Choice--disabled",toneMagic:"Polaris-Choice--toneMagic",Descriptions:"Polaris-Choice__Descriptions",HelpText:"Polaris-Choice__HelpText"};function Qa({id:e,label:r,disabled:n,error:t,children:o,labelHidden:s,helpText:l,onClick:i,labelClassName:c,fill:d,bleed:m,bleedBlockStart:f,bleedBlockEnd:p,bleedInlineStart:v,bleedInlineEnd:g,tone:y}){const h=T(ue.Choice,s&&ue.labelHidden,n&&ue.disabled,y&&ue[ae("tone",y)],c),C={...Fe("choice","bleed-block-end","space",p||m),...Fe("choice","bleed-block-start","space",f||m),...Fe("choice","bleed-inline-start","space",v||m),...Fe("choice","bleed-inline-end","space",g||m),...Object.fromEntries(Object.entries(Ht("choice","fill",d)).map(([w,B])=>[w,B?"100%":"auto"]))},P=a.createElement("label",{className:h,htmlFor:e,onClick:i,style:Vt(C)},a.createElement("span",{className:ue.Control},o),a.createElement("span",{className:ue.Label},a.createElement(J,{as:"span",variant:"bodyMd"},r))),M=l?a.createElement("div",{className:ue.HelpText,id:la(e)},a.createElement(J,{as:"span",tone:n?void 0:"subdued"},l)):null,F=t&&typeof t!="boolean"&&a.createElement("div",{className:ue.Error},a.createElement(Na,{message:t,fieldID:e})),S=M||F?a.createElement("div",{className:ue.Descriptions},F,M):null;return S?a.createElement("div",null,P,S):P}function la(e){return`${e}HelpText`}const cr=u.forwardRef(function({ariaControls:r,ariaDescribedBy:n,label:t,labelHidden:o,checked:s=!1,helpText:l,disabled:i,id:c,name:d,value:m,error:f,onChange:p,onFocus:v,onBlur:g,labelClassName:y,fill:h,bleed:C,bleedBlockStart:P,bleedBlockEnd:M,bleedInlineStart:F,bleedInlineEnd:S,tone:w},B){const _=u.useRef(null),G=u.useId(),W=c??G,A=u.useContext(Xa);u.useImperativeHandle(B,()=>({focus:()=>{_.current&&_.current.focus()}}));const $=()=>{g&&g()},j=()=>{p==null||_.current==null||i||(p(_.current.checked,W),_.current.focus())},L=[];f&&typeof f!="boolean"&&L.push(xa(W)),l&&L.push(la(W)),n&&L.push(n);const D=L.length?L.join(" "):void 0,R=T(te.Checkbox,f&&te.error),H=s==="indeterminate",ee=!H&&!!s,ie=H?{indeterminate:"true","aria-checked":"mixed"}:{"aria-checked":ee},U=a.createElement("svg",{viewBox:"0 0 16 16",shapeRendering:"geometricPrecision",textRendering:"geometricPrecision"},a.createElement("path",{className:T(s&&te.checked),d:"M1.5,5.5L3.44655,8.22517C3.72862,8.62007,4.30578,8.64717,4.62362,8.28044L10.5,1.5",transform:"translate(2 2.980376)",opacity:"0",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",pathLength:"1"})),z=T(te.Input,H&&te["Input-indeterminate"],w&&te[ae("tone",w)]),q={helpText:l,error:f,bleed:C,bleedBlockStart:P,bleedBlockEnd:M,bleedInlineStart:F,bleedInlineEnd:S};return a.createElement(Qa,Object.assign({id:W,label:t,labelHidden:o,disabled:i,labelClassName:T(te.ChoiceLabel,y),fill:h,tone:w},q),a.createElement("span",{className:R},a.createElement("input",Object.assign({ref:_,id:W,name:d,value:m,type:"checkbox",checked:ee,disabled:i,className:z,onBlur:$,onChange:Ya,onClick:j,onFocus:v,"aria-invalid":f!=null,"aria-controls":r,"aria-describedby":D,role:A?"presentation":"checkbox"},ie)),a.createElement("span",{className:te.Backdrop,onClick:Et,onKeyUp:Et}),a.createElement("span",{className:T(te.Icon,!H&&te.animated)},H?a.createElement(ne,{source:ra}):U)))});function Ya(){}function Et(e){e.stopPropagation()}var Ye={Backdrop:"Polaris-Backdrop",transparent:"Polaris-Backdrop--transparent",belowNavigation:"Polaris-Backdrop--belowNavigation"};function Ja(){const e=u.useContext(Ka);if(!e)throw new Ut("No ScrollLockManager was provided.");return e}function en(e){const r=Ja();return u.useEffect(()=>(r.registerScrollLock(),()=>{r.unregisterScrollLock()}),[r]),null}function ca(e){const{onClick:r,onTouchStart:n,belowNavigation:t,transparent:o,setClosing:s}=e,l=T(Ye.Backdrop,t&&Ye.belowNavigation,o&&Ye.transparent),i=()=>{s&&s(!0)},c=()=>{s&&s(!1),r&&r()};return a.createElement(a.Fragment,null,a.createElement(en,null),a.createElement("div",{className:l,onClick:c,onTouchStart:n,onMouseDown:i}))}var fe={LegacyStack:"Polaris-LegacyStack",Item:"Polaris-LegacyStack__Item",noWrap:"Polaris-LegacyStack--noWrap",spacingNone:"Polaris-LegacyStack--spacingNone",spacingExtraTight:"Polaris-LegacyStack--spacingExtraTight",spacingTight:"Polaris-LegacyStack--spacingTight",spacingBaseTight:"Polaris-LegacyStack--spacingBaseTight",spacingLoose:"Polaris-LegacyStack--spacingLoose",spacingExtraLoose:"Polaris-LegacyStack--spacingExtraLoose",distributionLeading:"Polaris-LegacyStack--distributionLeading",distributionTrailing:"Polaris-LegacyStack--distributionTrailing",distributionCenter:"Polaris-LegacyStack--distributionCenter",distributionEqualSpacing:"Polaris-LegacyStack--distributionEqualSpacing",distributionFill:"Polaris-LegacyStack--distributionFill",distributionFillEvenly:"Polaris-LegacyStack--distributionFillEvenly",alignmentLeading:"Polaris-LegacyStack--alignmentLeading",alignmentTrailing:"Polaris-LegacyStack--alignmentTrailing",alignmentCenter:"Polaris-LegacyStack--alignmentCenter",alignmentFill:"Polaris-LegacyStack--alignmentFill",alignmentBaseline:"Polaris-LegacyStack--alignmentBaseline",vertical:"Polaris-LegacyStack--vertical","Item-fill":"Polaris-LegacyStack__Item--fill"};function ua({children:e,fill:r}){const n=T(fe.Item,r&&fe["Item-fill"]);return a.createElement("div",{className:n},e)}const da=u.memo(function({children:r,vertical:n,spacing:t,distribution:o,alignment:s,wrap:l}){const i=T(fe.LegacyStack,n&&fe.vertical,t&&fe[ae("spacing",t)],o&&fe[ae("distribution",o)],s&&fe[ae("alignment",s)],l===!1&&fe.noWrap),c=Ma(r).map((d,m)=>zt(d,ua,{key:m}));return a.createElement("div",{className:i},c)});da.Item=ua;var tn={InlineGrid:"Polaris-InlineGrid"};function an({children:e,columns:r,gap:n,alignItems:t}){const o={...Ht("inline-grid","grid-template-columns",nn(r)),...Fe("inline-grid","gap","space",n),"--pc-inline-grid-align-items":t};return a.createElement("div",{className:tn.InlineGrid,style:Vt(o)},e)}function nn(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)?Object.fromEntries(Object.entries(e).map(([r,n])=>[r,Tt(n)])):Tt(e)}function Tt(e){if(e)return typeof e=="number"||!isNaN(Number(e))?`repeat(${Number(e)}, minmax(0, 1fr))`:typeof e=="string"?e:e.map(r=>{switch(r){case"oneThird":return"minmax(0, 1fr)";case"oneHalf":return"minmax(0, 1fr)";case"twoThirds":return"minmax(0, 2fr)"}}).join(" ")}const ut=u.createContext(void 0);function ma(){const e=u.useContext(ut);if(!e)throw new Error("No Frame context was provided. Your component must be wrapped in a <Frame> component. See https://polaris.shopify.com/components/internal-only/frame for implementation instructions.");return e}var Je,Ct;function rn(){if(Ct)return Je;Ct=1;var e=typeof Element<"u",r=typeof Map=="function",n=typeof Set=="function",t=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function o(s,l){if(s===l)return!0;if(s&&l&&typeof s=="object"&&typeof l=="object"){if(s.constructor!==l.constructor)return!1;var i,c,d;if(Array.isArray(s)){if(i=s.length,i!=l.length)return!1;for(c=i;c--!==0;)if(!o(s[c],l[c]))return!1;return!0}var m;if(r&&s instanceof Map&&l instanceof Map){if(s.size!==l.size)return!1;for(m=s.entries();!(c=m.next()).done;)if(!l.has(c.value[0]))return!1;for(m=s.entries();!(c=m.next()).done;)if(!o(c.value[1],l.get(c.value[0])))return!1;return!0}if(n&&s instanceof Set&&l instanceof Set){if(s.size!==l.size)return!1;for(m=s.entries();!(c=m.next()).done;)if(!l.has(c.value[0]))return!1;return!0}if(t&&ArrayBuffer.isView(s)&&ArrayBuffer.isView(l)){if(i=s.length,i!=l.length)return!1;for(c=i;c--!==0;)if(s[c]!==l[c])return!1;return!0}if(s.constructor===RegExp)return s.source===l.source&&s.flags===l.flags;if(s.valueOf!==Object.prototype.valueOf&&typeof s.valueOf=="function"&&typeof l.valueOf=="function")return s.valueOf()===l.valueOf();if(s.toString!==Object.prototype.toString&&typeof s.toString=="function"&&typeof l.toString=="function")return s.toString()===l.toString();if(d=Object.keys(s),i=d.length,i!==Object.keys(l).length)return!1;for(c=i;c--!==0;)if(!Object.prototype.hasOwnProperty.call(l,d[c]))return!1;if(e&&s instanceof Element)return!1;for(c=i;c--!==0;)if(!((d[c]==="_owner"||d[c]==="__v"||d[c]==="__o")&&s.$$typeof)&&!o(s[d[c]],l[d[c]]))return!1;return!0}return s!==s&&l!==l}return Je=function(l,i){try{return o(l,i)}catch(c){if((c.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw c}},Je}var sn=rn();const on=Pa(sn),ln=u.memo(function({children:r,disabled:n,root:t}){return u.useEffect(()=>{if(n||!t)return;const o=cn(t)?t.current:t;!o||o.querySelector("[autofocus]")||re(o,!1)},[n,t]),a.createElement(a.Fragment,null,r)});function cn(e){return e.current!==void 0}function dt({acceptCharset:e,action:r,autoComplete:n,children:t,encType:o,implicitSubmit:s=!0,method:l="post",name:i,noValidate:c,preventDefault:d=!0,target:m,onSubmit:f}){const p=K(),v=u.useCallback(h=>{d&&(h.preventDefault(),f(h))},[f,d]),g=un(n),y=s?a.createElement(J,{as:"span",visuallyHidden:!0},a.createElement("button",{type:"submit","aria-hidden":"true",tabIndex:-1},p.translate("Polaris.Common.submit"))):null;return a.createElement("form",{acceptCharset:e,action:r,autoComplete:g,encType:o,method:l,name:i,noValidate:c,target:m,onSubmit:v},y,t)}function un(e){return e==null?e:e?"on":"off"}function je(){return je=Object.assign?Object.assign.bind():function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)({}).hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},je.apply(null,arguments)}function mt(e,r){if(e==null)return{};var n={};for(var t in e)if({}.hasOwnProperty.call(e,t)){if(r.indexOf(t)!==-1)continue;n[t]=e[t]}return n}function rt(e,r){return rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,t){return n.__proto__=t,n},rt(e,r)}function ft(e,r){e.prototype=Object.create(r.prototype),e.prototype.constructor=e,rt(e,r)}function dn(e,r){return e.classList?!!r&&e.classList.contains(r):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+r+" ")!==-1}function mn(e,r){e.classList?e.classList.add(r):dn(e,r)||(typeof e.className=="string"?e.className=e.className+" "+r:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+r))}function yt(e,r){return e.replace(new RegExp("(^|\\s)"+r+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function fn(e,r){e.classList?e.classList.remove(r):typeof e.className=="string"?e.className=yt(e.className,r):e.setAttribute("class",yt(e.className&&e.className.baseVal||"",r))}const Pt={disabled:!1},He=a.createContext(null);var fa=function(r){return r.scrollTop},_e="unmounted",ve="exited",be="entering",xe="entered",st="exiting",oe=function(e){ft(r,e);function r(t,o){var s;s=e.call(this,t,o)||this;var l=o,i=l&&!l.isMounting?t.enter:t.appear,c;return s.appearStatus=null,t.in?i?(c=ve,s.appearStatus=be):c=xe:t.unmountOnExit||t.mountOnEnter?c=_e:c=ve,s.state={status:c},s.nextCallback=null,s}r.getDerivedStateFromProps=function(o,s){var l=o.in;return l&&s.status===_e?{status:ve}:null};var n=r.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var s=null;if(o!==this.props){var l=this.state.status;this.props.in?l!==be&&l!==xe&&(s=be):(l===be||l===xe)&&(s=st)}this.updateStatus(!1,s)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,s,l,i;return s=l=i=o,o!=null&&typeof o!="number"&&(s=o.exit,l=o.enter,i=o.appear!==void 0?o.appear:l),{exit:s,enter:l,appear:i}},n.updateStatus=function(o,s){if(o===void 0&&(o=!1),s!==null)if(this.cancelNextCallback(),s===be){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:We.findDOMNode(this);l&&fa(l)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ve&&this.setState({status:_e})},n.performEnter=function(o){var s=this,l=this.props.enter,i=this.context?this.context.isMounting:o,c=this.props.nodeRef?[i]:[We.findDOMNode(this),i],d=c[0],m=c[1],f=this.getTimeouts(),p=i?f.appear:f.enter;if(!o&&!l||Pt.disabled){this.safeSetState({status:xe},function(){s.props.onEntered(d)});return}this.props.onEnter(d,m),this.safeSetState({status:be},function(){s.props.onEntering(d,m),s.onTransitionEnd(p,function(){s.safeSetState({status:xe},function(){s.props.onEntered(d,m)})})})},n.performExit=function(){var o=this,s=this.props.exit,l=this.getTimeouts(),i=this.props.nodeRef?void 0:We.findDOMNode(this);if(!s||Pt.disabled){this.safeSetState({status:ve},function(){o.props.onExited(i)});return}this.props.onExit(i),this.safeSetState({status:st},function(){o.props.onExiting(i),o.onTransitionEnd(l.exit,function(){o.safeSetState({status:ve},function(){o.props.onExited(i)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,s){s=this.setNextCallback(s),this.setState(o,s)},n.setNextCallback=function(o){var s=this,l=!0;return this.nextCallback=function(i){l&&(l=!1,s.nextCallback=null,o(i))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},n.onTransitionEnd=function(o,s){this.setNextCallback(s);var l=this.props.nodeRef?this.props.nodeRef.current:We.findDOMNode(this),i=o==null&&!this.props.addEndListener;if(!l||i){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var c=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],d=c[0],m=c[1];this.props.addEndListener(d,m)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===_e)return null;var s=this.props,l=s.children;s.in,s.mountOnEnter,s.unmountOnExit,s.appear,s.enter,s.exit,s.timeout,s.addEndListener,s.onEnter,s.onEntering,s.onEntered,s.onExit,s.onExiting,s.onExited,s.nodeRef;var i=mt(s,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return a.createElement(He.Provider,{value:null},typeof l=="function"?l(o,i):a.cloneElement(a.Children.only(l),i))},r}(a.Component);oe.contextType=He;oe.propTypes={};function Ne(){}oe.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Ne,onEntering:Ne,onEntered:Ne,onExit:Ne,onExiting:Ne,onExited:Ne};oe.UNMOUNTED=_e;oe.EXITED=ve;oe.ENTERING=be;oe.ENTERED=xe;oe.EXITING=st;var pn=function(r,n){return r&&n&&n.split(" ").forEach(function(t){return mn(r,t)})},et=function(r,n){return r&&n&&n.split(" ").forEach(function(t){return fn(r,t)})},Ae=function(e){ft(r,e);function r(){for(var t,o=arguments.length,s=new Array(o),l=0;l<o;l++)s[l]=arguments[l];return t=e.call.apply(e,[this].concat(s))||this,t.appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(i,c){var d=t.resolveArguments(i,c),m=d[0],f=d[1];t.removeClasses(m,"exit"),t.addClass(m,f?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(i,c)},t.onEntering=function(i,c){var d=t.resolveArguments(i,c),m=d[0],f=d[1],p=f?"appear":"enter";t.addClass(m,p,"active"),t.props.onEntering&&t.props.onEntering(i,c)},t.onEntered=function(i,c){var d=t.resolveArguments(i,c),m=d[0],f=d[1],p=f?"appear":"enter";t.removeClasses(m,p),t.addClass(m,p,"done"),t.props.onEntered&&t.props.onEntered(i,c)},t.onExit=function(i){var c=t.resolveArguments(i),d=c[0];t.removeClasses(d,"appear"),t.removeClasses(d,"enter"),t.addClass(d,"exit","base"),t.props.onExit&&t.props.onExit(i)},t.onExiting=function(i){var c=t.resolveArguments(i),d=c[0];t.addClass(d,"exit","active"),t.props.onExiting&&t.props.onExiting(i)},t.onExited=function(i){var c=t.resolveArguments(i),d=c[0];t.removeClasses(d,"exit"),t.addClass(d,"exit","done"),t.props.onExited&&t.props.onExited(i)},t.resolveArguments=function(i,c){return t.props.nodeRef?[t.props.nodeRef.current,i]:[i,c]},t.getClassNames=function(i){var c=t.props.classNames,d=typeof c=="string",m=d&&c?c+"-":"",f=d?""+m+i:c[i],p=d?f+"-active":c[i+"Active"],v=d?f+"-done":c[i+"Done"];return{baseClassName:f,activeClassName:p,doneClassName:v}},t}var n=r.prototype;return n.addClass=function(o,s,l){var i=this.getClassNames(s)[l+"ClassName"],c=this.getClassNames("enter"),d=c.doneClassName;s==="appear"&&l==="done"&&d&&(i+=" "+d),l==="active"&&o&&fa(o),i&&(this.appliedClasses[s][l]=i,pn(o,i))},n.removeClasses=function(o,s){var l=this.appliedClasses[s],i=l.base,c=l.active,d=l.done;this.appliedClasses[s]={},i&&et(o,i),c&&et(o,c),d&&et(o,d)},n.render=function(){var o=this.props;o.classNames;var s=mt(o,["classNames"]);return a.createElement(oe,je({},s,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(a.Component);Ae.defaultProps={classNames:""};Ae.propTypes={};function hn(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function pt(e,r){var n=function(s){return r&&u.isValidElement(s)?r(s):s},t=Object.create(null);return e&&u.Children.map(e,function(o){return o}).forEach(function(o){t[o.key]=n(o)}),t}function gn(e,r){e=e||{},r=r||{};function n(m){return m in r?r[m]:e[m]}var t=Object.create(null),o=[];for(var s in e)s in r?o.length&&(t[s]=o,o=[]):o.push(s);var l,i={};for(var c in r){if(t[c])for(l=0;l<t[c].length;l++){var d=t[c][l];i[t[c][l]]=n(d)}i[c]=n(c)}for(l=0;l<o.length;l++)i[o[l]]=n(o[l]);return i}function Te(e,r,n){return n[r]!=null?n[r]:e.props[r]}function vn(e,r){return pt(e.children,function(n){return u.cloneElement(n,{onExited:r.bind(null,n),in:!0,appear:Te(n,"appear",e),enter:Te(n,"enter",e),exit:Te(n,"exit",e)})})}function bn(e,r,n){var t=pt(e.children),o=gn(r,t);return Object.keys(o).forEach(function(s){var l=o[s];if(u.isValidElement(l)){var i=s in r,c=s in t,d=r[s],m=u.isValidElement(d)&&!d.props.in;c&&(!i||m)?o[s]=u.cloneElement(l,{onExited:n.bind(null,l),in:!0,exit:Te(l,"exit",e),enter:Te(l,"enter",e)}):!c&&i&&!m?o[s]=u.cloneElement(l,{in:!1}):c&&i&&u.isValidElement(d)&&(o[s]=u.cloneElement(l,{onExited:n.bind(null,l),in:d.props.in,exit:Te(l,"exit",e),enter:Te(l,"enter",e)}))}}),o}var En=Object.values||function(e){return Object.keys(e).map(function(r){return e[r]})},Tn={component:"div",childFactory:function(r){return r}},Ue=function(e){ft(r,e);function r(t,o){var s;s=e.call(this,t,o)||this;var l=s.handleExited.bind(hn(s));return s.state={contextValue:{isMounting:!0},handleExited:l,firstRender:!0},s}var n=r.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(o,s){var l=s.children,i=s.handleExited,c=s.firstRender;return{children:c?vn(o,i):bn(o,l,i),firstRender:!1}},n.handleExited=function(o,s){var l=pt(this.props.children);o.key in l||(o.props.onExited&&o.props.onExited(s),this.mounted&&this.setState(function(i){var c=je({},i.children);return delete c[o.key],{children:c}}))},n.render=function(){var o=this.props,s=o.component,l=o.childFactory,i=mt(o,["component","childFactory"]),c=this.state.contextValue,d=En(this.state.children).map(l);return delete i.appear,delete i.enter,delete i.exit,s===null?a.createElement(He.Provider,{value:c},d):a.createElement(He.Provider,{value:c},a.createElement(s,i,d))},r}(a.Component);Ue.propTypes={};Ue.defaultProps=Tn;function Nt(e,r,n){if(!document)return;document.documentElement.style.setProperty(e,r)}var I={Frame:"Polaris-Frame",Navigation:"Polaris-Frame__Navigation",hasTopBar:"Polaris-Frame--hasTopBar","Navigation-enter":"Polaris-Frame__Navigation--enter","Navigation-enterActive":"Polaris-Frame__Navigation--enterActive","Navigation-exit":"Polaris-Frame__Navigation--exit","Navigation-exitActive":"Polaris-Frame__Navigation--exitActive",NavigationDismiss:"Polaris-Frame__NavigationDismiss","Navigation-visible":"Polaris-Frame__Navigation--visible",TopBar:"Polaris-Frame__TopBar",ContextualSaveBar:"Polaris-Frame__ContextualSaveBar",Main:"Polaris-Frame__Main",hasNav:"Polaris-Frame--hasNav",Content:"Polaris-Frame__Content",hasSidebar:"Polaris-Frame--hasSidebar",GlobalRibbonContainer:"Polaris-Frame__GlobalRibbonContainer",LoadingBar:"Polaris-Frame__LoadingBar",Skip:"Polaris-Frame__Skip",focused:"Polaris-Frame--focused"};function Cn(){const e=u.useRef(!1);return u.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),e}var xt={Loading:"Polaris-Frame-Loading",Level:"Polaris-Frame-Loading__Level"};const Mt=99;function yn(){const e=K(),r=Cn(),[n,t]=u.useState(0),[o,s]=u.useState(!1);u.useEffect(()=>{n>=Mt||o||requestAnimationFrame(()=>{if(!r.current)return;const i=Math.max((Mt-n)/10,1);s(!0),t(n+i)})},[n,o,r]);const l={transform:`scaleX(${Math.floor(n)/100})`};return a.createElement("div",{className:xt.Loading,"aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,role:"progressbar","aria-label":e.translate("Polaris.Loading.label")},a.createElement("div",{className:xt.Level,style:l,onTransitionEnd:()=>s(!1)}))}var St={startFade:"Polaris-Frame-CSSAnimation--startFade",endFade:"Polaris-Frame-CSSAnimation--endFade"},Z;(function(e){e.Entering="entering",e.Entered="entered",e.Exiting="exiting",e.Exited="exited"})(Z||(Z={}));function Pn({in:e,className:r,type:n,children:t}){const[o,s]=u.useState(e?Z.Entering:Z.Exited),l=u.useRef(!1),i=u.useRef(null);u.useEffect(()=>{l.current&&o===Z.Entering&&f(Z.Entered)},[o]),u.useEffect(()=>{l.current&&(e&&f(Z.Entering),!e&&f(Z.Exiting))},[e]),u.useEffect(()=>{l.current=!0},[]);const c=T(r,St[ae("start",n)],e&&St[ae("end",n)]),d=o===Z.Exited&&!e?null:t;return a.createElement("div",{className:c,ref:i,onTransitionEnd:m},d);function m(){o===Z.Exiting&&f(Z.Exited)}function f(p){s(p),p===Z.Entering&&i.current&&i.current.getBoundingClientRect()}}function pa(e,r){if(!e)return null;const n=Object.keys(e);for(const t of n){if(t===r)return e[r];if(Sa(e[t])){const o=pa(e[t],r);if(o)return o}}return null}function Nn(e={},r=0,n="width"){const t=typeof e=="number"?e:pa(e,n);return t?`${t}px`:`${r}px`}var ge={ContextualSaveBar:"Polaris-Frame-ContextualSaveBar",LogoContainer:"Polaris-Frame-ContextualSaveBar__LogoContainer",ContextControl:"Polaris-Frame-ContextualSaveBar__ContextControl",Contents:"Polaris-Frame-ContextualSaveBar__Contents",fullWidth:"Polaris-Frame-ContextualSaveBar--fullWidth",MessageContainer:"Polaris-Frame-ContextualSaveBar__MessageContainer",ActionContainer:"Polaris-Frame-ContextualSaveBar__ActionContainer"},tt={Body:"Polaris-Modal__Body",NoScrollBody:"Polaris-Modal__NoScrollBody",IFrame:"Polaris-Modal__IFrame"},kt={Section:"Polaris-Modal-Section",titleHidden:"Polaris-Modal-Section--titleHidden"};function ha({children:e,flush:r=!1,subdued:n=!1,titleHidden:t=!1}){const o=T(kt.Section,t&&kt.titleHidden);return a.createElement("div",{className:o},a.createElement(de,Object.assign({as:"section",padding:r?"0":"400"},t&&{paddingInlineEnd:"0"},n&&{background:"bg-surface-tertiary"}),e))}var O={Container:"Polaris-Modal-Dialog__Container",Dialog:"Polaris-Modal-Dialog",Modal:"Polaris-Modal-Dialog__Modal",limitHeight:"Polaris-Modal-Dialog--limitHeight",sizeSmall:"Polaris-Modal-Dialog--sizeSmall",sizeLarge:"Polaris-Modal-Dialog--sizeLarge",sizeFullScreen:"Polaris-Modal-Dialog--sizeFullScreen",animateFadeUp:"Polaris-Modal-Dialog--animateFadeUp",entering:"Polaris-Modal-Dialog--entering",exiting:"Polaris-Modal-Dialog--exiting",exited:"Polaris-Modal-Dialog--exited",entered:"Polaris-Modal-Dialog--entered"};function xn({trapping:e}){const r=u.useContext(qa),n=u.useId();if(!r)throw new Ut("No FocusManager was provided.");const{trapFocusList:t,add:o,remove:s}=r,l=t[0]===n,i=u.useMemo(()=>({canSafelyFocus:l}),[l]);return u.useEffect(()=>{if(e)return o(n),()=>{s(n)}},[o,n,s,e]),i}function ga({trapping:e=!0,children:r}){const{canSafelyFocus:n}=xn({trapping:e}),t=u.useRef(null),[o,s]=u.useState(!0);u.useEffect(()=>{const c=n&&!(t.current&&t.current.contains(document.activeElement))?!e:!0;s(c)},[n,e]);const l=c=>{const d=t.current&&t.current.contains(document.activeElement);e===!1||!t.current||d||c.target instanceof Element&&c.target.matches(`${Ha.selector} *`)||n&&c.target instanceof HTMLElement&&t.current!==c.target&&!t.current.contains(c.target)&&re(t.current)},i=c=>{if(e===!1||!t.current)return;const d=ka(t.current),m=Fa(t.current);c.target===m&&!c.shiftKey&&(c.preventDefault(),_a(t.current)),c.target===d&&c.shiftKey&&(c.preventDefault(),La(t.current))};return a.createElement(ln,{disabled:o,root:t.current},a.createElement("div",{ref:t},a.createElement(it,{event:"focusin",handler:l}),a.createElement(Le,{keyCode:Ie.Tab,keyEvent:"keydown",handler:i}),r))}function Mn({instant:e,labelledBy:r,children:n,limitHeight:t,size:o,onClose:s,onExited:l,onEntered:i,setClosing:c,hasToasts:d,...m}){const f=Va(),p=u.useRef(null),v=u.useContext(ut);let g;v&&(g=v.toastMessages);const y=T(O.Modal,o&&O[ae("size",o)],t&&O.limitHeight),h=e?oe:kn;u.useEffect(()=>{p.current&&!p.current.contains(document.activeElement)&&re(p.current)},[]);const C=()=>{c&&c(!0)},P=()=>{c&&c(!1),s()},M=a.createElement("div",{"aria-live":"assertive"},g?g.map(F=>a.createElement(J,{visuallyHidden:!0,as:"p",key:F.id},F.content)):null);return a.createElement(h,Object.assign({},m,{nodeRef:p,mountOnEnter:!0,unmountOnExit:!0,timeout:parseInt(f.motion["motion-duration-200"],10),onEntered:i,onExited:l}),a.createElement("div",{className:O.Container,"data-polaris-layer":!0,"data-polaris-overlay":!0,ref:p},a.createElement(ga,null,a.createElement("div",{role:"dialog","aria-modal":!0,"aria-label":r,"aria-labelledby":r,tabIndex:-1,className:O.Dialog},a.createElement("div",{className:y},a.createElement(Le,{keyCode:Ie.Escape,keyEvent:"keydown",handler:C}),a.createElement(Le,{keyCode:Ie.Escape,handler:P}),n),M))))}const Sn={appear:T(O.animateFadeUp,O.entering),appearActive:T(O.animateFadeUp,O.entered),enter:T(O.animateFadeUp,O.entering),enterActive:T(O.animateFadeUp,O.entered),exit:T(O.animateFadeUp,O.exiting),exitActive:T(O.animateFadeUp,O.exited)};function kn({children:e,...r}){return a.createElement(Ae,Object.assign({},r,{classNames:Sn}),e)}function Ft({pressed:e,onClick:r}){const n=K();return a.createElement($e,{variant:"tertiary",pressed:e,icon:ct,onClick:r,accessibilityLabel:n.translate("Polaris.Common.close")})}function Fn({id:e,children:r,closing:n,titleHidden:t,onClose:o}){const s="400",l="400";return t||!r?a.createElement(de,{position:"absolute",insetInlineEnd:s,insetBlockStart:l,zIndex:"1"},a.createElement(Ft,{onClick:o})):a.createElement(de,{paddingBlockStart:"400",paddingBlockEnd:"400",paddingInlineStart:s,paddingInlineEnd:s,borderBlockEndWidth:"025",borderColor:"border",background:"bg-surface-tertiary"},a.createElement(an,{columns:{xs:"1fr auto"},gap:"400"},a.createElement(pe,{gap:"400",blockAlign:"center"},a.createElement(J,{id:e,as:"h2",variant:"headingMd",breakWord:!0},r)),a.createElement(Ft,{pressed:n,onClick:o})))}function _n({primaryAction:e,secondaryActions:r,children:n}){const t=e&&vt(e,{variant:"primary"})||null,o=r&&vt(r)||null,s=t||o?a.createElement(pe,{gap:"200"},o,t):null;return a.createElement(pe,{gap:"400",blockAlign:"center"},a.createElement(de,{borderColor:"border",borderBlockStartWidth:"025",padding:"400",width:"100%"},a.createElement(pe,{gap:"400",blockAlign:"center",align:"space-between"},a.createElement(de,null,n),s)))}const _t=200,Ln=400,se=function({children:r,title:n,titleHidden:t=!1,src:o,iFrameName:s,open:l,instant:i,sectioned:c,loading:d,size:m,limitHeight:f,footer:p,primaryAction:v,secondaryActions:g,onScrolledToBottom:y,activator:h,activatorWrapper:C="div",onClose:P,onIFrameLoad:M,onTransitionEnd:F,noScroll:S}){const[w,B]=u.useState(_t),[_,G]=u.useState(!1),W=u.useId(),A=u.useRef(null),j=K().translate("Polaris.Modal.iFrameTitle");let L,D;const R=u.useCallback(()=>{F&&F()},[F]),H=u.useCallback(()=>{B(_t);const z=h&&Lt(h)?h&&h.current:A.current;z&&requestAnimationFrame(()=>re(z))},[h]),ee=u.useCallback(z=>{const q=z.target;if(q&&q.contentWindow)try{B(q.contentWindow.document.body.scrollHeight)}catch{B(Ln)}M!=null&&M(z)},[M]);if(l){const z=!p&&!v&&!g?null:a.createElement(_n,{primaryAction:v,secondaryActions:g},p),q=c?zt(r,ha,{titleHidden:t}):r,he=d?a.createElement(de,{padding:"400"},a.createElement(pe,{gap:"400",align:"center",blockAlign:"center"},a.createElement(Aa,null))):q,Me=S?a.createElement("div",{className:tt.NoScrollBody},a.createElement(de,{width:"100%",overflowX:"hidden",overflowY:"hidden"},he)):a.createElement(Ia,{shadow:!0,className:tt.Body,onScrolledToBottom:y},he),Ce=o?a.createElement("iframe",{name:s,title:j,src:o,className:tt.IFrame,onLoad:ee,style:{height:`${w}px`}}):Me;L=a.createElement(Mn,{instant:i,labelledBy:W,onClose:P,onEntered:R,onExited:H,size:m,limitHeight:f,setClosing:G},a.createElement(Fn,{titleHidden:t,id:W,closing:_,onClose:P},n),Ce,z),D=a.createElement(ca,{setClosing:G,onClick:P})}const ie=!i,U=h&&!Lt(h)?a.createElement(de,{ref:A,as:C},h):null;return a.createElement(Za.Provider,{value:!0},U,a.createElement(Gt,{idPrefix:"modal"},a.createElement(Ue,{appear:ie,enter:ie,exit:ie},L),D))};function Lt(e){return Object.prototype.hasOwnProperty.call(e,"current")}se.Section=ha;function In({open:e,onDiscard:r,onCancel:n}){const t=K();return a.createElement(se,{title:t.translate("Polaris.DiscardConfirmationModal.title"),open:e,onClose:n,primaryAction:{content:t.translate("Polaris.DiscardConfirmationModal.primaryAction"),destructive:!0,onAction:r},secondaryActions:[{content:t.translate("Polaris.DiscardConfirmationModal.secondaryAction"),onAction:n}],sectioned:!0},t.translate("Polaris.DiscardConfirmationModal.message"))}function An({alignContentFlush:e,message:r,saveAction:n,discardAction:t,fullWidth:o,contextControl:s,secondaryMenu:l}){const i=K(),{logo:c}=ma(),{value:d,toggle:m,setFalse:f}=wa(!1),p=u.useCallback(()=>{t&&t.onAction&&t.onAction(),f()},[f,t]),v=t&&t.content?t.content:i.translate("Polaris.ContextualSaveBar.discard");let g;t&&t.discardConfirmationModal?g=m:t&&(g=t.onAction);const y=t&&t.onAction&&t.discardConfirmationModal&&a.createElement(In,{open:d,onCancel:m,onDiscard:p}),h=t&&a.createElement($e,{variant:"tertiary",size:"large",url:t.url,onClick:g,loading:t.loading,disabled:t.disabled,accessibilityLabel:t.content},v),C=n&&n.content?n.content:i.translate("Polaris.ContextualSaveBar.save"),P=n&&a.createElement($e,{variant:"primary",tone:"success",size:"large",url:n.url,onClick:n.onAction,loading:n.loading,disabled:n.disabled,accessibilityLabel:n.content},C),M=Nn(c,104),F=c&&a.createElement(ia,{style:{width:M},source:c.contextualSaveBarSource||"",alt:""}),S=e||s?null:a.createElement("div",{className:ge.LogoContainer,style:{width:M}},F),w=s?a.createElement("div",{className:ge.ContextControl},s):null,B=T(ge.Contents,o&&ge.fullWidth);return a.createElement(a.Fragment,null,a.createElement("div",{className:ge.ContextualSaveBar},w,S,a.createElement("div",{className:B},a.createElement("div",{className:ge.MessageContainer},a.createElement(ne,{source:Yt}),r&&a.createElement(J,{as:"h2",variant:"headingMd",tone:"text-inverse",truncate:!0},r)),a.createElement("div",{className:ge.ActionContainer},a.createElement(da,{spacing:"tight",wrap:!1},l,h,P)))),y)}function va(e,r=on){const n=u.useRef(e);return r(n.current,e)||(n.current=e),n.current}function ba(e,r,n){u.useEffect(e,va(r,n))}function wn(e,r,n){return u.useCallback(e,va(r,n))}var Ee={ToastManager:"Polaris-Frame-ToastManager",ToastWrapper:"Polaris-Frame-ToastManager__ToastWrapper","ToastWrapper-enter":"Polaris-Frame-ToastManager__ToastWrapper--enter","ToastWrapper-exit":"Polaris-Frame-ToastManager__ToastWrapper--exit","ToastWrapper-enter-done":"Polaris-Frame-ToastManager--toastWrapperEnterDone"},me={Toast:"Polaris-Frame-Toast",Action:"Polaris-Frame-Toast__Action",error:"Polaris-Frame-Toast--error",CloseButton:"Polaris-Frame-Toast__CloseButton",LeadingIcon:"Polaris-Frame-Toast__LeadingIcon",toneMagic:"Polaris-Frame-Toast--toneMagic",WithActionOnComponent:"Polaris-Frame-Toast__WithActionOnComponent"};const Dn=5e3,It=1e4;function Rn({content:e,onDismiss:r,duration:n,error:t,action:o,tone:s,onClick:l,icon:i,isHovered:c}){const m=o&&!n?It:n||Dn,f=u.useRef(m),p=u.useRef(null),v=u.useRef(null);u.useEffect(()=>{function P(){p.current=Date.now(),v.current=setTimeout(()=>{r()},f.current)}function M(){p.current&&(f.current-=Date.now()-p.current),v.current&&clearTimeout(v.current),v.current=null}return c?M():P(),()=>{v.current&&clearTimeout(v.current)}},[c,r]),u.useEffect(()=>{o&&n&&n<It&&console.log("Toast with action should persist for at least 10,000 milliseconds to give the merchant enough time to act on it.")},[o,n]);const g=a.createElement("button",{type:"button",className:me.CloseButton,onClick:r},a.createElement(ne,{source:oa,tone:"inherit"})),y=o?a.createElement("div",{className:me.Action},a.createElement($e,{variant:"monochromePlain",removeUnderline:!0,size:"slim",onClick:o.onAction},o.content)):null;let h=null;t?h=a.createElement("div",{className:me.LeadingIcon},a.createElement(ne,{source:Da,tone:"inherit"})):i&&(h=a.createElement("div",{className:me.LeadingIcon},a.createElement(ne,{source:i,tone:"inherit"})));const C=T(me.Toast,t&&me.error,s&&me[ae("tone",s)]);return!o&&l?a.createElement("button",{"aria-live":"assertive",className:T(C,me.WithActionOnComponent),type:"button",onClick:l},a.createElement(Le,{keyCode:Ie.Escape,handler:r}),h,a.createElement(pe,{gap:"400",blockAlign:"center"},a.createElement(J,Object.assign({as:"span",variant:"bodyMd",fontWeight:"medium"},s==="magic"&&{tone:"magic"}),e))):a.createElement("div",{className:C,"aria-live":"assertive"},a.createElement(Le,{keyCode:Ie.Escape,handler:r}),h,a.createElement(pe,{gap:"400",blockAlign:"center"},a.createElement(J,Object.assign({as:"span",variant:"bodyMd",fontWeight:"medium"},s==="magic"&&{tone:"magic"}),e)),y,g)}const On=10,At=30;function Bn(e){const r=n=>(n-1)*n/2;return e*On-r(e)}const Wn=u.memo(function({toastMessages:r}){const n=[],[t,o]=u.useState(!1),s=u.useRef(!1),l=u.useRef(null),i=u.useRef(null),c=wn(()=>{const m=r.length-1;r.forEach((f,p)=>{const v=m-p,g=n[p];if(!g.current)return;const y=g.current.clientHeight,h=t?1:.9**v,C=Bn(v),P=t?y+(y-8)*v:y+C;g.current.style.setProperty("--pc-toast-manager-translate-y-in",`-${P}px`),g.current.style.setProperty("--pc-toast-manager-scale-in",`${h}`),g.current.style.setProperty("--pc-toast-manager-blur-in",t?"0":`${v*.5}px`),g.current.style.setProperty("--pc-toast-manager-transition-delay-in",`${t?v*At:0}ms`),g.current.style.setProperty("--pc-toast-manager-scale-out",`${v===0?.85:h**2}`),g.current.style.setProperty("--pc-toast-manager-translate-y-out",`${-P}px`)})},[r,n,t]);ba(()=>{c(),r.length===0&&o(!1),t?l.current=setTimeout(()=>{s.current=!0},r.length*At+400):l.current&&(clearTimeout(l.current),s.current=!1)},[r,t]);const d=r.map((m,f)=>{const p=r.length-f-1,v=u.createRef();n[f]=v;function g(){o(!0)}function y(){s.current&&o(!1)}return a.createElement(Ae,{nodeRef:n[f],key:m.id,timeout:{enter:0,exit:200},classNames:$n},a.createElement("div",{ref:v,onMouseEnter:p>0?g:y},a.createElement("div",{ref:h=>p===0?i.current=h:null},a.createElement(Rn,Object.assign({},m,{isHovered:t})))))});return a.createElement(Gt,{idPrefix:"toast"},a.createElement(it,{event:"resize",handler:c}),a.createElement("div",{className:Ee.ToastManager,"aria-live":"assertive",onMouseEnter:function(m){var v;const f=m.target,p=(v=i.current)==null?void 0:v.contains(f);o(!p)},onMouseLeave:function(){o(!1)}},a.createElement(Ue,{component:null},d)))}),$n={enter:T(Ee.ToastWrapper,Ee["ToastWrapper-enter"]),enterDone:T(Ee.ToastWrapper,Ee["ToastWrapper-enter-done"]),exit:T(Ee.ToastWrapper,Ee["ToastWrapper-exit"])},wt="AppFrameMain",jn="AppFrameNav",Hn="AppFrameTopBar",Vn="AppFrameLoadingBar";class Un extends u.PureComponent{constructor(...r){super(...r),this.state={skipFocused:!1,globalRibbonHeight:0,loadingStack:0,toastMessages:[],showContextualSaveBar:!1},this.contextualSaveBar=null,this.globalRibbonContainer=null,this.navigationNode=u.createRef(),this.setGlobalRibbonHeight=()=>{const{globalRibbonContainer:n}=this;n&&this.setState({globalRibbonHeight:n.offsetHeight},this.setGlobalRibbonRootProperty)},this.setOffset=()=>{const{offset:n="0px"}=this.props;Nt("--pc-frame-offset",n)},this.setGlobalRibbonRootProperty=()=>{const{globalRibbonHeight:n}=this.state;Nt("--pc-frame-global-ribbon-height",`${n}px`)},this.showToast=n=>{this.setState(({toastMessages:t})=>({toastMessages:t.find(({id:s})=>s===n.id)!=null?t:[...t,n]}))},this.hideToast=({id:n})=>{this.setState(({toastMessages:t})=>({toastMessages:t.filter(({id:o})=>n!==o)}))},this.setContextualSaveBar=n=>{const{showContextualSaveBar:t}=this.state;this.contextualSaveBar={...n},t===!0?this.forceUpdate():this.setState({showContextualSaveBar:!0})},this.removeContextualSaveBar=()=>{this.contextualSaveBar=null,this.setState({showContextualSaveBar:!1})},this.startLoading=()=>{this.setState(({loadingStack:n})=>({loadingStack:n+1}))},this.stopLoading=()=>{this.setState(({loadingStack:n})=>({loadingStack:Math.max(0,n-1)}))},this.handleResize=()=>{this.props.globalRibbon&&this.setGlobalRibbonHeight()},this.handleFocus=()=>{this.setState({skipFocused:!0})},this.handleBlur=()=>{this.setState({skipFocused:!1})},this.handleClick=n=>{const{skipToContentTarget:t}=this.props;t&&t.current&&(t.current.focus(),n==null||n.preventDefault())},this.handleNavigationDismiss=()=>{const{onNavigationDismiss:n}=this.props;n!=null&&n()},this.setGlobalRibbonContainer=n=>{this.globalRibbonContainer=n},this.handleNavKeydown=n=>{const{key:t}=n,{mediaQuery:{isNavigationCollapsed:o},showMobileNavigation:s}=this.props;o&&s&&t==="Escape"&&this.handleNavigationDismiss()}}componentDidMount(){this.handleResize(),!this.props.globalRibbon&&(this.setGlobalRibbonRootProperty(),this.setOffset())}componentDidUpdate(r){this.props.globalRibbon!==r.globalRibbon&&this.setGlobalRibbonHeight(),this.setOffset()}render(){const{skipFocused:r,loadingStack:n,toastMessages:t,showContextualSaveBar:o}=this.state,{logo:s,children:l,navigation:i,topBar:c,globalRibbon:d,showMobileNavigation:m=!1,skipToContentTarget:f,i18n:p,sidebar:v,mediaQuery:{isNavigationCollapsed:g}}=this.props,y=T(I.Navigation,m&&I["Navigation-visible"]),h=g&&!m,C=g&&m,P=C?0:-1,M={...C&&{"aria-modal":!0,role:"dialog"}},F=i?a.createElement(za,null,R=>a.createElement(ga,{trapping:C},a.createElement(Ae,{nodeRef:this.navigationNode,appear:g,exit:g,in:m,timeout:parseInt(R.motion["motion-duration-300"],10),classNames:zn},a.createElement("div",Object.assign({key:"NavContent"},M,{"aria-label":p.translate("Polaris.Frame.navigationLabel"),ref:this.navigationNode,className:y,onKeyDown:this.handleNavKeydown,id:jn,hidden:h}),i,a.createElement("button",{type:"button",className:I.NavigationDismiss,onClick:this.handleNavigationDismiss,"aria-hidden":h||!g&&!m,"aria-label":p.translate("Polaris.Frame.Navigation.closeMobileNavigationLabel"),tabIndex:P},a.createElement(ne,{source:ct})))))):null,S=n>0?a.createElement("div",{className:I.LoadingBar,id:Vn},a.createElement(yn,null)):null,w=c?a.createElement("div",Object.assign({className:I.TopBar},bt.props,Ua.props,{id:Hn}),c):null,B=d?a.createElement("div",{className:I.GlobalRibbonContainer,ref:this.setGlobalRibbonContainer},d):null,_=T(I.Skip,r&&I.focused),G=f!=null&&f.current?f.current.id:wt,W=a.createElement("div",{className:_},a.createElement("a",{href:`#${G}`,onFocus:this.handleFocus,onBlur:this.handleBlur,onClick:this.handleClick},a.createElement(J,{as:"span",variant:"bodyLg",fontWeight:"medium"},p.translate("Polaris.Frame.skipToContent")))),A=i?{"data-has-navigation":!0}:{},$=T(I.Frame,i&&I.hasNav,c&&I.hasTopBar,v&&I.hasSidebar),j=a.createElement(Pn,{in:o,className:I.ContextualSaveBar,type:"fade"},a.createElement(An,this.contextualSaveBar)),L=m&&g?a.createElement(ca,{belowNavigation:!0,onClick:this.handleNavigationDismiss,onTouchStart:this.handleNavigationDismiss}):null,D={logo:s,showToast:this.showToast,hideToast:this.hideToast,toastMessages:t,startLoading:this.startLoading,stopLoading:this.stopLoading,setContextualSaveBar:this.setContextualSaveBar,removeContextualSaveBar:this.removeContextualSaveBar};return a.createElement(ut.Provider,{value:D},a.createElement("div",Object.assign({className:$},bt.props,A),W,w,F,j,S,L,a.createElement("main",{className:I.Main,id:wt,"data-has-global-ribbon":!!d},a.createElement("div",{className:I.Content},l)),a.createElement(Wn,{toastMessages:t}),B,a.createElement(it,{event:"resize",handler:this.handleResize})))}}const zn={enter:T(I["Navigation-enter"]),enterActive:T(I["Navigation-enterActive"]),enterDone:T(I["Navigation-enterActive"]),exit:T(I["Navigation-exit"]),exitActive:T(I["Navigation-exitActive"])};function ur(e){const r=K(),n=Ra();return a.createElement(Un,Object.assign({},e,{i18n:r,mediaQuery:n}))}function Gn(){const[e,r]=u.useState(!1),n=u.useCallback(()=>r(!0),[]);return Zt("touchstart",n),e}function Dt(e){const r=u.useRef();return u.useEffect(()=>{r.current=e},[e]),r.current}function Rt(e,r,n,t,o){const s=t.reduce((d,m)=>d+m,0),l=e.map((d,m)=>m),i=[],c=[];if(o>s)i.push(...l);else{i.push(r);let d=t[r];l.forEach(m=>{if(m!==r){const f=t[m];if(d+f>=o-n){c.push(m);return}i.push(m),d+=f}})}return{visibleTabs:i,hiddenTabs:c}}var N={Outer:"Polaris-Tabs__Outer",Wrapper:"Polaris-Tabs__Wrapper",WrapperWithNewButton:"Polaris-Tabs__WrapperWithNewButton",ButtonWrapper:"Polaris-Tabs__ButtonWrapper",Tabs:"Polaris-Tabs",Tab:"Polaris-Tabs__Tab","Tab-active":"Polaris-Tabs__Tab--active","Tab-hasActions":"Polaris-Tabs__Tab--hasActions","Tab-iconOnly":"Polaris-Tabs__Tab--iconOnly",fillSpace:"Polaris-Tabs--fillSpace",TabContainer:"Polaris-Tabs__TabContainer",fitted:"Polaris-Tabs--fitted",List:"Polaris-Tabs__List",Item:"Polaris-Tabs__Item",DisclosureTab:"Polaris-Tabs__DisclosureTab","DisclosureTab-visible":"Polaris-Tabs__DisclosureTab--visible",DisclosureActivator:"Polaris-Tabs__DisclosureActivator",TabsMeasurer:"Polaris-Tabs__TabsMeasurer",NewTab:"Polaris-Tabs__NewTab",ActionListWrap:"Polaris-Tabs__ActionListWrap",Panel:"Polaris-Tabs__Panel","Panel-hidden":"Polaris-Tabs__Panel--hidden"};const at=40;function Zn({open:e,isModalLoading:r,name:n,onClose:t,onClickPrimaryAction:o,onClickSecondaryAction:s,helpText:l,viewNames:i}){const c=K(),[d,m]=u.useState(n),f=u.useRef(null),p=i==null?void 0:i.some(C=>C.trim().toLowerCase()===d.trim().toLowerCase()),v=r||p||!d||d.length>at;u.useEffect(()=>{f.current&&e&&re(f.current)},[e]),u.useEffect(()=>{e&&m(n.slice(0,at))},[n,e]);const g=u.useCallback(C=>{m(C)},[]);async function y(){v||(await o(d),m(""),t())}function h(){s==null||s(),m(n),t()}return a.createElement(se,{open:e,onClose:t,title:c.translate("Polaris.Tabs.DuplicateModal.title"),primaryAction:{content:c.translate("Polaris.Tabs.DuplicateModal.create"),onAction:y,disabled:v},secondaryActions:[{content:c.translate("Polaris.Tabs.DuplicateModal.cancel"),onAction:h}],instant:!0},a.createElement(se.Section,null,a.createElement(dt,{onSubmit:y},a.createElement(lt,null,a.createElement("div",{ref:f},a.createElement(ot,{label:c.translate("Polaris.Tabs.DuplicateModal.label"),value:d,onChange:g,autoComplete:"off",helpText:l,maxLength:at,showCharacterCount:!0,error:p?c.translate("Polaris.Tabs.DuplicateModal.errors.sameName",{name:d}):void 0}))))))}function Kn({open:e,isModalLoading:r,name:n,onClose:t,onClickPrimaryAction:o,onClickSecondaryAction:s,helpText:l,viewNames:i}){const c=K(),[d,m]=u.useState(n),f=u.useRef(null),p=i==null?void 0:i.filter(C=>C!==n).some(C=>C.trim().toLowerCase()===d.trim().toLowerCase()),v=r||p||d===n||!d;u.useEffect(()=>{f.current&&e&&re(f.current)},[e]),u.useEffect(()=>{e&&m(n)},[n,e]);const g=u.useCallback(C=>{m(C)},[]);async function y(){v||(await o(d),m(""),t())}function h(){s==null||s(),m(n),t()}return a.createElement(se,{open:e,onClose:t,title:c.translate("Polaris.Tabs.RenameModal.title"),primaryAction:{content:c.translate("Polaris.Tabs.RenameModal.create"),onAction:y,disabled:v},secondaryActions:[{content:c.translate("Polaris.Tabs.RenameModal.cancel"),onAction:h}],instant:!0},a.createElement(se.Section,null,a.createElement(dt,{onSubmit:y},a.createElement(lt,null,a.createElement("div",{ref:f},a.createElement(ot,{label:c.translate("Polaris.Tabs.RenameModal.label"),value:d,onChange:g,autoComplete:"off",helpText:l,maxLength:40,showCharacterCount:!0,error:p?c.translate("Polaris.Tabs.RenameModal.errors.sameName",{name:d}):void 0}))))))}const Ve=u.forwardRef(({content:e,accessibilityLabel:r,badge:n,id:t,panelID:o,url:s,onAction:l,actions:i,disabled:c,isModalLoading:d,icon:m,siblingTabHasFocus:f,measuring:p,focused:v,selected:g,onToggleModal:y,onTogglePopover:h,viewNames:C,tabIndexOverride:P,onFocus:M},F)=>{const S=K(),[w,B]=u.useState(!1),[_,G]=u.useState(null),W=u.useRef(g),A=u.useRef(!1),$=u.useRef(null);u.useEffect(()=>{h(w)},[w,h]),u.useEffect(()=>{y(!!_)},[_,y]),u.useEffect(()=>()=>{y(!1),h(!1)},[y,h]),u.useEffect(()=>{if(p)return;(v||document.activeElement&&document.activeElement.id===t)&&g&&o!=null&&!A.current&&(Ot(o),A.current=!0),g&&!W.current&&o!=null?Ot(o):v&&$.current!=null&&_==null&&!c&&re($.current),W.current=g},[v,t,e,p,o,g,_,c]);let j;g&&!f&&!p||v&&!p?j=0:j=-1,P!=null&&(j=P);const L=i==null?void 0:i.find(x=>x.type==="rename"),D=i==null?void 0:i.find(x=>x.type==="duplicate"),R=i==null?void 0:i.find(x=>x.type==="delete"),H=u.useCallback(()=>{i!=null&&i.length&&B(x=>!x)},[i]),ee=u.useCallback(()=>{c||(g?H():l==null||l())},[g,l,H,c]),ie=x=>{G(x)},U=()=>{G(null)},z=u.useCallback(async x=>{var X;await((X=L==null?void 0:L.onPrimaryAction)==null?void 0:X.call(L,x)),setTimeout(()=>{$.current&&re($.current)},250)},[L]),q=u.useCallback(async()=>{var x;await((x=R==null?void 0:R.onPrimaryAction)==null?void 0:x.call(R,e)),U()},[R,e]),he=u.useCallback(async x=>{var X;await((X=D==null?void 0:D.onPrimaryAction)==null?void 0:X.call(D,x))},[D]),Me={rename:{icon:aa,content:S.translate("Polaris.Tabs.Tab.rename")},duplicate:{icon:ea,content:S.translate("Polaris.Tabs.Tab.duplicate")},edit:{icon:ta,content:S.translate("Polaris.Tabs.Tab.edit")},"edit-columns":{icon:na,content:S.translate("Polaris.Tabs.Tab.editColumns")},delete:{icon:Jt,content:S.translate("Polaris.Tabs.Tab.delete"),destructive:!0}},Ce=i==null?void 0:i.map(({type:x,onAction:X,onPrimaryAction:Ea,...Be})=>{const Qe=!x.includes("edit");return{...Me[x],...Be,onAction:()=>{X==null||X(e),H(),Qe&&ie(x)}}}),we=u.useCallback(x=>{x.key===" "&&(x.preventDefault(),ee())},[ee]),ze=T(N.TabContainer,g&&N.Underline),Se=c||g?void 0:s,Ge=Se?Xt:Qt,Ze=T(N.Tab,m&&N["Tab-iconOnly"],w&&N["Tab-popoverActive"],g&&N["Tab-active"],g&&(i==null?void 0:i.length)&&N["Tab-hasActions"]),Ke=n?a.createElement(Wa,{tone:g?void 0:"new"},n):null,De=g&&(i!=null&&i.length)?a.createElement("div",{className:T(N.IconWrap)},a.createElement(ne,{source:Kt})):null,ye=a.createElement(Ge,{id:t,className:Ze,tabIndex:j,"aria-selected":g,"aria-controls":o,"aria-label":r,role:P==null?"tab":void 0,disabled:c,url:Se,onFocus:M,onMouseUp:Ba,onClick:ee,onKeyDown:we},a.createElement(pe,{gap:"200",align:"center",blockAlign:"center",wrap:!1},a.createElement(J,{as:"span",variant:"bodySm",fontWeight:"medium"},m??e),Ke),De),Re=!g||!(i!=null&&i.length),Pe=L?a.createElement(Kn,{name:e,open:_==="rename",onClose:U,onClickPrimaryAction:z,isModalLoading:d,viewNames:C}):null,qe=D?a.createElement(Zn,{open:_==="duplicate",name:S.translate("Polaris.Tabs.Tab.copy",{name:e}),onClose:U,onClickPrimaryAction:he,isModalLoading:d,viewNames:C||[]}):null,Xe=R?a.createElement(se,{open:_==="delete",onClose:U,primaryAction:{content:S.translate("Polaris.Tabs.Tab.deleteModal.delete"),onAction:q,destructive:!0,disabled:d},secondaryActions:[{content:S.translate("Polaris.Tabs.Tab.deleteModal.cancel"),onAction:U}],title:S.translate("Polaris.Tabs.Tab.deleteModal.title"),instant:!0},a.createElement(se.Section,null,S.translate("Polaris.Tabs.Tab.deleteModal.description",{viewName:e}))):null,Oe=Re||c?ye:a.createElement(a.Fragment,null,a.createElement(qt,{active:w,activator:ye,autofocusTarget:"first-node",onClose:H},a.createElement("div",{className:N.ActionListWrap},a.createElement(Oa,{actionRole:"menuitem",items:Ce}))),Pe,qe,Xe);return m?Oe:a.createElement("li",{className:ze,ref:qn([$,F]),role:"presentation"},Oe)});Ve.displayName="Tab";function Ot(e){const r=document.getElementById(e);r&&r.focus({preventScroll:!0})}function qn(e){return r=>{for(const n of e)n!=null&&(n.current=r)}}const Xn=u.memo(function({selected:r,tabs:n,activator:t,tabToFocus:o,siblingTabHasFocus:s,handleMeasurement:l}){const i=u.useRef(null),c=u.useRef(null),d=u.useCallback(()=>{c.current&&cancelAnimationFrame(c.current),c.current=requestAnimationFrame(()=>{if(!i.current)return;const p=i.current.offsetWidth-20-28,v=i.current.children,y=Array.from(v).map(C=>Math.ceil(C.getBoundingClientRect().width)+4),h=y.pop()||0;l({containerWidth:p,disclosureWidth:h,hiddenTabWidths:y})})},[l]);u.useEffect(()=>{d()},[d,n]),$a(()=>{});const m=n.map((p,v)=>a.createElement(Ve,{measuring:!0,key:`$${p.id}Hidden`,id:`${p.id}Measurer`,siblingTabHasFocus:s,focused:v===o,selected:v===r,url:p.url,content:p.content,onTogglePopover:Bt,onToggleModal:Bt})),f=T(N.Tabs,N.TabsMeasurer);return Zt("resize",d),a.createElement("div",{className:f,ref:i},m,t)});function Bt(){}function Wt({hidden:e,id:r,tabID:n,children:t}){const o=T(N.Panel,e&&N["Panel-hidden"]);return a.createElement("div",{className:o,id:r,role:"tabpanel","aria-labelledby":n,tabIndex:-1},t)}const Qn=u.memo(function({id:r,focused:n,children:t,url:o,accessibilityLabel:s,onClick:l=Yn}){const i=u.useRef(null);u.useEffect(()=>{i.current&&i.current instanceof HTMLElement&&n&&i.current.focus()},[i,n]);const c=T(N.Item),d={id:r,ref:i,onClick:l,className:c,"aria-selected":!1,"aria-label":s},m=o?a.createElement(Xt,Object.assign({},d,{url:o}),t):a.createElement("button",Object.assign({},d,{ref:i,type:"button"}),t);return a.createElement("li",null,m)});function Yn(){}function Jn({focusIndex:e,disclosureTabs:r,onClick:n=$t,onKeyPress:t=$t}){const o=r.map(({id:s,content:l,...i},c)=>a.createElement(Qn,Object.assign({key:s},i,{id:s,focused:c===e,onClick:n.bind(null,s)}),l));return a.createElement("ul",{className:N.List,onKeyDown:er,onKeyUp:t},o)}function $t(){}function er(e){const{key:r}=e;(r==="ArrowLeft"||r==="ArrowRight")&&(e.preventDefault(),e.stopPropagation())}const jt=40;function tr({activator:e,open:r,onClose:n,onClickPrimaryAction:t,onClickSecondaryAction:o,viewNames:s}){const l=K(),[i,c]=u.useState(""),[d,m]=u.useState(!1),f=u.useRef(null),p=Gn(),v=s.some(P=>P.trim().toLowerCase()===i.trim().toLowerCase()),g=!i||v||d||i.length>jt;u.useEffect(()=>{if(!(!f.current||p)&&r){re(f.current);const P=setTimeout(()=>{f.current&&re(f.current)},50);return()=>clearTimeout(P)}},[r,p]);const y=u.useCallback(P=>{c(P)},[]);async function h(){v||g||(m(!0),await t(i),m(!1),c(""),n())}function C(){o==null||o(),c(""),n()}return a.createElement(se,{activator:e,open:r,onClose:n,title:l.translate("Polaris.Tabs.CreateViewModal.title"),primaryAction:{content:l.translate("Polaris.Tabs.CreateViewModal.create"),onAction:h,disabled:g},secondaryActions:[{content:l.translate("Polaris.Tabs.CreateViewModal.cancel"),onAction:C}]},a.createElement(se.Section,null,a.createElement(dt,{onSubmit:h},a.createElement(lt,null,a.createElement("div",{ref:f},a.createElement(ot,{label:l.translate("Polaris.Tabs.CreateViewModal.label"),value:i,onChange:y,autoComplete:"off",maxLength:jt,showCharacterCount:!0,error:v?l.translate("Polaris.Tabs.CreateViewModal.errors.sameName",{name:i}):void 0}))))))}const ar="create-new-view",dr=({tabs:e,children:r,selected:n,newViewAccessibilityLabel:t,canCreateNewView:o,disabled:s,onCreateNewView:l,onSelect:i,fitted:c,disclosureText:d})=>{const m=K(),{mdDown:f}=Ga(),p=u.useRef(null),v=u.useRef(null),g=u.useRef(null),[y,h]=u.useReducer((b,E)=>({...b,...E}),{disclosureWidth:0,containerWidth:1/0,tabWidths:[],visibleTabs:[],hiddenTabs:[],showDisclosure:!1,tabToFocus:-1,isNewViewModalActive:!1,modalSubmitted:!1,isTabsFocused:!1,isTabPopoverOpen:!1,isTabModalOpen:!1}),{tabToFocus:C,visibleTabs:P,hiddenTabs:M,showDisclosure:F,isNewViewModalActive:S,modalSubmitted:w,disclosureWidth:B,tabWidths:_,containerWidth:G,isTabsFocused:W,isTabModalOpen:A,isTabPopoverOpen:$}=y,j=Dt(A),L=Dt($);u.useEffect(()=>{j&&!A?h({isTabsFocused:!0,tabToFocus:n}):L&&!$&&!A&&h({isTabsFocused:!0,tabToFocus:n})},[L,$,j,A,n,C]);const D=u.useCallback(b=>h({isTabPopoverOpen:b}),[]),R=u.useCallback(b=>h({isTabModalOpen:b}),[]),H=()=>{h({isNewViewModalActive:!1})},ee=async b=>{if(!l)return!1;const E=await(l==null?void 0:l(b));return E&&h({modalSubmitted:!0}),E},ie=()=>{h({isNewViewModalActive:!0})},U=u.useCallback(b=>{const E=e.find(V=>V.id===b);if(E==null)return null;const k=e.indexOf(E);i==null||i(k)},[e,i]),z=u.useCallback((b,E)=>{const k=()=>{var Q;U(b.id),(Q=b.onAction)==null||Q.call(b)},V=e.map(({content:Q})=>Q),le=b.panelID||`${b.id}-panel`;return a.createElement(Ve,Object.assign({},b,{key:`${E}-${b.id}`,id:b.id,panelID:r?le:void 0,disabled:s||b.disabled,siblingTabHasFocus:C>-1,focused:E===C,selected:E===n,onAction:k,accessibilityLabel:b.accessibilityLabel,url:b.url,content:b.content,onToggleModal:R,onTogglePopover:D,viewNames:V,ref:E===n?g:null}))},[s,U,e,r,n,C,R,D]),q=u.useCallback(b=>{const E=b.target,k=E.classList.contains(N.Item),V=E.closest("[data-tabs-focus-catchment]")||k;E.classList.contains(N.DisclosureActivator)||!V||h({isTabsFocused:!0})},[]),he=u.useCallback(b=>{var ke,ce,Y;const E=b.target,k=b.relatedTarget,V=(ke=k==null?void 0:k.closest)==null?void 0:ke.call(k,`.${N.Tabs}`),le=(Y=(ce=E==null?void 0:E.classList)==null?void 0:ce.contains)==null?void 0:Y.call(ce,N.Tab),Q=k==null?void 0:k.classList.contains(N.Item);if(!k&&!A&&!le&&!Q){h({tabToFocus:-1});return}if(!V&&!A&&!le&&!Q){h({tabToFocus:-1});return}h({isTabsFocused:!1})},[A]),Me=b=>{if($||A||S)return;const{key:E}=b;(E==="ArrowLeft"||E==="ArrowRight")&&(b.preventDefault(),b.stopPropagation())};u.useEffect(()=>{const{visibleTabs:b,hiddenTabs:E}=Rt(e,n,B,_,G);h({visibleTabs:b,hiddenTabs:E})},[G,B,e,n,_,h]);const Ce=u.useCallback(()=>{var E;const b=(E=g.current)==null?void 0:E.querySelector(`.${N["Tab-active"]}`);b&&Ke(b.offsetLeft)},[]);u.useEffect(()=>{f&&Ce()},[Ce,n,f]),u.useEffect(()=>{W&&!F&&h({tabToFocus:n})},[W,n,h,F]);const we=b=>{const{showDisclosure:E,visibleTabs:k,hiddenTabs:V,tabToFocus:le,isNewViewModalActive:Q}=y;if(A||$||Q)return;const ke=b.key,ce=E||f?k.concat(V):[...k];let Y=ce.indexOf(le);ke==="ArrowRight"&&(Y+=1,Y===ce.length&&(Y=0)),ke==="ArrowLeft"&&(Y===-1||Y===0?Y=ce.length-1:Y-=1);const gt=ce[Y];gt!=null&&h({tabToFocus:gt})},ze=()=>{h({showDisclosure:!F,tabToFocus:M[0]})},Se=()=>{h({showDisclosure:!1})},Ge=u.useCallback(b=>{const{hiddenTabWidths:E,containerWidth:k,disclosureWidth:V}=b,{visibleTabs:le,hiddenTabs:Q}=Rt(e,n,V,E,k);h({visibleTabs:le,hiddenTabs:Q,disclosureWidth:V,containerWidth:k,tabWidths:E})},[e,n,h]),Ze=b=>{U(b),Se(),h({isTabsFocused:!0})},Ke=b=>{setTimeout(()=>{var E,k;if(p.current&&typeof p.current.scroll=="function"){const V=((E=v==null?void 0:v.current)==null?void 0:E.offsetLeft)||0;(k=p==null?void 0:p.current)==null||k.scroll({left:b-V})}},0)},De=t||m.translate("Polaris.Tabs.newViewAccessibilityLabel"),ye=f?[...P,...M]:P,Re=ye.sort((b,E)=>b-E).filter(b=>e[b]).map(b=>z(e[b],b)),Pe=P.length<e.length&&!f,qe=T(N.Tabs,c&&N.fitted,Pe&&N.fillSpace),Xe=T(N.Wrapper,o&&N.WrapperWithNewButton),Oe=T(N.DisclosureTab,Pe&&N["DisclosureTab-visible"]),x=T(N.DisclosureActivator),X=a.createElement(a.Fragment,null,a.createElement(J,{as:"span",variant:"bodySm",fontWeight:"medium"},d??m.translate("Polaris.Tabs.toggleTabsLabel")),a.createElement("div",{className:T(N.IconWrap,Pe&&F&&N["IconWrap-open"])},a.createElement(ne,{source:Kt,tone:"subdued"}))),Be=a.createElement(Qt,{type:"button",className:x,onClick:ze,"aria-label":d??m.translate("Polaris.Tabs.toggleTabsLabel"),disabled:s},X),Qe=M.map(b=>e[b]),Ta=e.map(({content:b})=>b),Ca=a.createElement(Xn,{tabToFocus:C,activator:Be,selected:n,tabs:e,siblingTabHasFocus:C>-1,handleMeasurement:Ge}),ht=a.createElement(Ve,{id:ar,content:De,actions:[],onAction:ie,onFocus:()=>{w&&h({tabToFocus:n,modalSubmitted:!1})},icon:a.createElement(ne,{source:sa,accessibilityLabel:De}),disabled:s,onTogglePopover:D,onToggleModal:R,tabIndexOverride:0}),ya=r?e.map((b,E)=>n===E?a.createElement(Wt,{id:e[E].panelID||`${e[E].id}-panel`,tabID:e[E].id,key:e[E].id},r):a.createElement(Wt,{id:e[E].panelID||`${e[E].id}-panel`,tabID:e[E].id,key:e[E].id,hidden:!0})):null;return a.createElement("div",{className:N.Outer},a.createElement(de,{padding:{md:"200"}},Ca,a.createElement("div",{className:Xe,ref:p},a.createElement("div",{className:N.ButtonWrapper,ref:v},a.createElement("ul",{role:Re.length>0?"tablist":void 0,className:qe,onFocus:q,onBlur:he,onKeyDown:Me,onKeyUp:we,"data-tabs-focus-catchment":!0},Re,f||ye.length===0?null:a.createElement("li",{className:Oe,role:"presentation"},a.createElement(qt,{preferredPosition:"below",preferredAlignment:"left",activator:Be,active:Pe&&F,onClose:Se,autofocusTarget:"first-node"},a.createElement(Jn,{focusIndex:M.indexOf(C),disclosureTabs:Qe,onClick:Ze,onKeyPress:we})))),o&&ye.length>0?a.createElement("div",{className:N.NewTab},a.createElement(tr,{open:S,onClose:H,onClickPrimaryAction:ee,viewNames:Ta,activator:s?ht:a.createElement("div",null,a.createElement(ja,{content:m.translate("Polaris.Tabs.newViewTooltip"),preferredPosition:"above",hoverDelay:400},ht))})):null))),ya)};var nt={Thumbnail:"Polaris-Thumbnail",sizeExtraSmall:"Polaris-Thumbnail--sizeExtraSmall",sizeSmall:"Polaris-Thumbnail--sizeSmall",sizeMedium:"Polaris-Thumbnail--sizeMedium",sizeLarge:"Polaris-Thumbnail--sizeLarge",transparent:"Polaris-Thumbnail--transparent"};function mr({source:e,alt:r,size:n="medium",transparent:t}){const o=T(nt.Thumbnail,n&&nt[ae("size",n)],t&&nt.transparent),s=typeof e=="string"?a.createElement(ia,{alt:r,source:e}):a.createElement(ne,{accessibilityLabel:r,source:e});return a.createElement("span",{className:o},s)}const fr=u.memo(function(r){const n=u.useId(),{showToast:t,hideToast:o}=ma();return ba(()=>(t({id:n,...r}),()=>{o({id:n})}),[r]),null});export{cr as C,ur as F,se as M,ta as S,dr as T,fr as a,mr as b,Jt as c};
