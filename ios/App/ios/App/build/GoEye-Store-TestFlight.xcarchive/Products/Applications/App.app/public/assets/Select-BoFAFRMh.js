import{r as v,R as n}from"./index-Cd5tM5Cw.js";import{u as V,e as $,v as w,f as J,S as K,L as Q,c as W,T as X,h as Y}from"./Page-Bs3Yy5l8.js";var i={Select:"Polaris-Select",disabled:"Polaris-Select--disabled",error:"Polaris-Select--error",Backdrop:"Polaris-Select__Backdrop",Input:"Polaris-Select__Input",Content:"Polaris-Select__Content",InlineLabel:"Polaris-Select__InlineLabel",Icon:"Polaris-Select__Icon",SelectedOption:"Polaris-Select__SelectedOption",Prefix:"Polaris-Select__Prefix",hover:"Polaris-Select--hover",toneMagic:"Polaris-Select--toneMagic"};const k="";function le({options:e,label:t,labelAction:a,labelHidden:l,labelInline:s,disabled:r,helpText:P,placeholder:_,id:L,name:C,value:h=k,error:d,onChange:x,onFocus:u,onBlur:p,requiredIndicator:I,tone:f}){const{value:M,toggle:m}=V(!1),T=v.useId(),c=L??T,H=s?!0:l,j=$(i.Select,d&&i.error,f&&i[w("tone",f)],r&&i.disabled),z=v.useCallback(o=>{m(),u==null||u(o)},[u,m]),B=v.useCallback(o=>{m(),p==null||p(o)},[p,m]),R=x?o=>x(o.currentTarget.value,c):void 0,b=[];P&&b.push(Y(c)),d&&b.push(`${c}Error`);let S=(e||[]).map(Z);_&&(S=[{label:_,value:k,disabled:!0},...S]);const q=s&&n.createElement(W,{paddingInlineEnd:"100"},n.createElement(X,{as:"span",variant:"bodyMd",tone:f&&f==="magic"&&!M?"magic-subdued":"subdued",truncate:!0},t)),g=F(S,h),A=g.prefix&&n.createElement("div",{className:i.Prefix},g.prefix),D=n.createElement("div",{className:i.Content,"aria-hidden":!0,"aria-disabled":r},q,A,n.createElement("span",{className:i.SelectedOption},g.label),n.createElement("span",{className:i.Icon},n.createElement(J,{source:K}))),U=S.map(ee);return n.createElement(Q,{id:c,label:t,error:d,action:a,labelHidden:H,helpText:P,requiredIndicator:I,disabled:r},n.createElement("div",{className:j},n.createElement("select",{id:c,name:C,value:h,className:i.Input,disabled:r,onFocus:z,onBlur:B,onChange:R,"aria-invalid":!!d,"aria-describedby":b.length?b.join(" "):void 0,"aria-required":I},U),D,n.createElement("div",{className:i.Backdrop})))}function O(e){return typeof e=="string"}function E(e){return typeof e=="object"&&"options"in e&&e.options!=null}function N(e){return{label:e,value:e}}function Z(e){if(O(e))return N(e);if(E(e)){const{title:t,options:a}=e;return{title:t,options:a.map(l=>O(l)?N(l):l)}}return e}function F(e,t){const a=G(e);let l=a.find(s=>t===s.value);return l===void 0&&(l=a.find(s=>!s.hidden)),l||{value:"",label:""}}function G(e){let t=[];return e.forEach(a=>{E(a)?t=t.concat(a.options):t.push(a)}),t}function y(e){const{value:t,label:a,prefix:l,key:s,...r}=e;return n.createElement("option",Object.assign({key:s??t,value:t},r),a)}function ee(e){if(E(e)){const{title:t,options:a}=e;return n.createElement("optgroup",{label:t,key:t},a.map(y))}return y(e)}export{le as S};
